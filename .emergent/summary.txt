<analysis>
The AI engineer's work spanned multiple critical areas. Initially, a PDF-based vocabulary correction was attempted but deprecated due to data unreliability. Focus then shifted to refining the Construire des phrases game, implementing conjugation coloring for verbs (fixing wassi to wasi) and restoring the feminine text-to-speech voice. The famille vocabulary was updated, first with textual corrections and later with new audio pronunciations from a user-provided ZIP. A major new feature, the Découverte de Mayotte game, saw an initial SVG map, a failed integration of MapLibre GL due to Expo Go incompatibility, and a subsequent reversion to a simplified SVG map to resolve an uncaught error. The immediate next step is to update the database with new family audio references.
</analysis>

<product_requirements>
The Kwezi app is an educational mobile application for children to learn Shimaoré and Kibouchi, emphasizing engaging games, illustrations, and authentic audio.
1.  **Dual-Language Audio Restructure & Integration:** Completed, fixing the  typo.
2.  **Construire des phrases Game Fix:** Initial bug (only abimer verbs) resolved.
3.  **PDF Analysis & Correction:** An attempt to verify orthography and pronunciations using a provided PDF was halted as the user deemed the PDF unreliable.
4.  **Conjugation Coloring in Game:** Implemented visual coloring of conjugation prefixes (Orange for past, Green for future) *only for verbs* in the Construire des phrases game. This included fixing wassi to wasi and correcting French conjugations and accents, with a subsequent fix to ensure the rule did not apply to pronouns.
5.  **Family Vocabulary Update:** New family-related words were added, and Tante was corrected to tante maternelle. A further update was implemented based on image-provided data, and new audio pronunciations are currently being integrated.
6.  **Restore Feminine Voice-Off:** Text-to-speech voice changed from male to female for non-authentic audio. This was re-verified and corrected in the Construire des phrases game after a regression.
7.  **New Game - Découverte de Mayotte:** Create an interactive map game. Initial prototype involved an SVG map, then an attempt with MapLibre GL for realism, which was reverted to a simplified SVG due to Expo Go incompatibility and an uncaught error bug.
</product_requirements>

<key_technical_concepts>
-   **Full-stack:** Expo (React Native), FastAPI, MongoDB.
-   **Routing:** Expo Router (file-based).
-   **Data:** Python scripts for database ops; AsyncStorage.
-   **Audio/Speech:** , custom feminine TTS utility.
-   **UI:**  for maps,  for animations.
</key_technical_concepts>

<code_architecture>
The application follows a full-stack architecture with an Expo (React Native) frontend, a FastAPI backend, and a MongoDB database. Routing is managed using Expo Router for file-based navigation. Backend scripts handle data management, while frontend components focus on UI, animations, and interactive elements.

Detailed Directory structure:
/app
├── backend/
│   ├── .env
│   ├── requirements.txt
│   ├── server.py
│   ├── conjugation_engine.py
│   ├── restructure_audio_database.py
│   ├── extend_dual_audio_corps.py
│   ├── extend_dual_audio_4_sections.py
│   ├── update_nourriture_audio_extended.py
│   ├── extend_dual_audio_verbes.py
│   ├── extend_dual_audio_expressions.py
│   ├── extend_dual_audio_adjectifs.py
│   ├── extend_dual_audio_4_nouvelles_sections.py
│   ├── analyze_pdf_errors.py
│   ├── analyse_et_corriger_pdf_vocabulary.py
│   ├── complete_pdf_integration.py
│   ├── fix_pdf_corrections.py
│   ├── compare_database_with_pdf.py
│   ├── fix_wassi_and_conjugation.py
│   ├── conjugation_engine_fixed.py
│   ├── fix_french_conjugation_complete.py
│   ├── update_famille_vocabulary.py
│   ├── analyze_and_update_from_pdf.py
│   ├── apply_pdf_corrections.py
│   ├── fix_french_words_formatting.py
│   ├── update_famille_section_complete.py
│   └── update_famille_audio_mappings.py
├── frontend/
│   ├── .env
│   ├── app/
│   │   ├── _layout.tsx
│   │   ├── admin.tsx
│   │   ├── games.tsx
│   │   ├── home.tsx
│   │   ├── index.tsx
│   │   ├── learn.tsx
│   │   └── mayotte-discovery.tsx
│   ├── assets/
│   │   ├── ylang-ylang.png
│   │   ├── maki-mayotte.png
│   │   ├── data/
│   │   │   └── mayotte-world.json
│   │   └── audio/
│   │       ├── famille/
│   │       └── ...
│   ├── components/
│   │   ├── YlangYlangFlower.tsx
│   │   ├── MakiMayotte.tsx
│   │   ├── AuthenticAudioPlayer.tsx
│   │   ├── ColoredConjugationWord.tsx
│   │   ├── ConjugationColorLegend.tsx
│   │   ├── MayotteMap.tsx
│   │   ├── AnimatedMaki.tsx
│   │   ├── VillageDiscoveryPanel.tsx
│   │   └── HybridRealisticMayotteMap.tsx
│   ├── utils/
│   │   ├── speechUtils.ts
│   │   ├── realAuthenticAudioSystem.ts
│   │   ├── dualAuthenticAudioSystem.ts
│   │   ├── conjugationColorSystem.ts
│   │   ├── feminineSpeechUtils.ts
│   │   ├── enhancedSpeechUtils.ts
│   │   ├── voiceTestUtils.ts
│   │   └── mayotteGeoData.ts
│   ├── app.json
│   ├── package.json
│   ├── tsconfig.json
│   └── qr_code_expo.png
├── test_conjugation_colors.js
├── test_result.md
└── tests/

-   : **NEW.** Compares PDF vocabulary with the database to identify and log corrections.
-   : **NEW.** Applies identified vocabulary corrections (orthography, additions) to the database, including fixing JSON serialization errors.
-   : **NEW.** Corrects French word formatting by re-adding accents and capitalizing first letters.
-   : **NEW.** Updates famille vocabulary in the database based on data extracted from a user-provided image.
-   : **NEW.** Script to update database references for new family audio files; currently pending execution.
-   : **MODIFIED.** The game menu. Corrected speech utility import and function calls to  to ensure the female voice is used consistently in Construire des phrases.
-   : **MODIFIED.** Main screen for Découverte de Mayotte. Initially a simple SVG map, an attempt to use MapLibre GL was reverted to a simplified SVG version due to Expo Go incompatibility and an uncaught error.
-   : **NEW.** Stores structured data (villages, paths) for the Découverte de Mayotte game.
-   : **MODIFIED.** Displays the conjugation color legend. Corrected the typo wassi to wasi in the legend text.
-   : **NEW.** Component to render the animated Maki character in the Mayotte game.
-   : **NEW.** Component for displaying detailed information about discovered villages.
-   : **NEW.** Component introduced to provide a more realistic SVG map, designed to be compatible with Expo Go after MapLibre GL issues.
-   : Defines conjugation logic. The wasi pronoun correction was already present within this file.
-   : **NEW.** Utility file created to hold geographical data points for Mayotte.
</code_architecture>

<pending_tasks>
-   Implement frontend UI for audio playback in games other than Commencer à apprendre.
-   Develop and integrate a personal word mastery system.
-   Conduct comprehensive frontend mobile UI testing on Expo Go for all implemented features.
-   Investigate and resolve remaining incorrect emoji associations.
-   Identify the root cause of the recurring database duplication problem (2316 words).
-   Clarify the user's mentioned fork date (October 19, 2025).
-   Add zoom and pan controls (buttons) to the Mayotte map.
</pending_tasks>

<current_work>
Immediately prior to this summary, the AI engineer was working on updating the audio pronunciations for the famille section. The user provided a ZIP file containing new audio files (). The AI successfully extracted these files after installing the  utility, locating new audio in both  and . The current task involves integrating these new audio files into the database. A Python script, , has been created to perform this update, and the AI is positioned to execute it. This will ensure that the application references the most up-to-date pronunciations for family-related vocabulary.
</current_work>

<optional_next_step>
Execute the script  to update the database with references to the newly extracted family audio files.
</optional_next_step>
